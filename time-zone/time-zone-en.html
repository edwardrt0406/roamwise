<!DOCTYPE html><html lang="zh-Hant"><head><meta name="x-poe-datastore-behavior" content="local_only"><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roamwise - World Time Zone Lookup</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&amp;display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #dbeafe;
            --accent: #f59e0b;
            --bg: #f0f4f8;
            --card-bg: #ffffff;
            --text: #1e293b;
            --text-light: #64748b;
            --border: #e2e8f0;
            --success: #16a34a;
            --warning: #ea580c;
            --danger: #dc2626;
            --radius: 12px;
            --shadow: 0 4px 24px rgba(0,0,0,0.07);
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.05);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Noto Sans TC', sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; display: flex; flex-direction: column; }

        header { background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: #fff; padding: 0 24px; height: 60px; display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 12px rgba(37,99,235,0.3); }
        .logo { font-size: 1.4rem; font-weight: 700; letter-spacing: 1px; display: flex; align-items: center; gap: 8px; }
        .logo span { color: var(--accent); }
        .header-right { display: flex; align-items: center; gap: 16px; }
        .header-right a { color: rgba(255,255,255,0.85); text-decoration: none; font-size: 0.9rem; transition: color 0.2s; }
        .header-right a:hover { color: #fff; }
        .lang-select { background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.3); color: #fff; padding: 6px 12px; border-radius: 8px; font-size: 0.85rem; cursor: pointer; font-family: inherit; }
        .lang-select option { color: #333; background: #fff; }

        main { flex: 1; max-width: 900px; width: 100%; margin: 0 auto; padding: 32px 16px; }
        .page-title { text-align: center; font-size: 1.7rem; font-weight: 700; margin-bottom: 24px; color: var(--primary-dark); }

        .info-box { background: var(--primary-light); border-left: 4px solid var(--primary); border-radius: 0 var(--radius) var(--radius) 0; padding: 16px 20px; margin-bottom: 28px; display: flex; gap: 12px; align-items: flex-start; font-size: 0.92rem; color: var(--primary-dark); line-height: 1.6; }
        .info-box .icon { font-size: 1.2rem; flex-shrink: 0; margin-top: 2px; }

        .query-card { background: var(--card-bg); border-radius: var(--radius); box-shadow: var(--shadow); padding: 28px 24px; margin-bottom: 28px; }
        .selector-row { display: flex; gap: 16px; align-items: flex-end; flex-wrap: wrap; }
        .selector-group { flex: 1; min-width: 200px; }
        .selector-group label { display: flex; align-items: center; gap: 6px; font-weight: 500; font-size: 0.95rem; margin-bottom: 8px; color: var(--text); }
        .selector-group label .icon { font-size: 1.1rem; }

        .custom-select-wrapper { position: relative; }
        .custom-select-wrapper input { width: 100%; padding: 12px 16px; border: 2px solid var(--border); border-radius: 10px; font-size: 1rem; font-family: inherit; transition: border-color 0.2s, box-shadow 0.2s; background: #fff; }
        .custom-select-wrapper input:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(37,99,235,0.12); }

        .dropdown-list { position: absolute; top: calc(100% + 4px); left: 0; right: 0; background: #fff; border: 1px solid var(--border); border-radius: 10px; max-height: 260px; overflow-y: auto; box-shadow: var(--shadow); z-index: 50; display: none; }
        .dropdown-list.show { display: block; }
        .dropdown-item { padding: 10px 16px; cursor: pointer; font-size: 0.93rem; transition: background 0.15s; display: flex; justify-content: space-between; align-items: center; }
        .dropdown-item:hover, .dropdown-item.active { background: var(--primary-light); color: var(--primary-dark); }
        .dropdown-item .city-tz { font-size: 0.78rem; color: var(--text-light); font-weight: 400; }
        .dropdown-group-header { padding: 8px 16px 4px; font-size: 0.78rem; font-weight: 600; color: var(--primary); background: #f8fafc; text-transform: uppercase; letter-spacing: 0.5px; position: sticky; top: 0; }

        .search-btn-wrapper { flex-shrink: 0; }
        .search-btn { background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: #fff; border: none; padding: 12px 32px; border-radius: 10px; font-size: 1rem; font-family: inherit; font-weight: 500; cursor: pointer; transition: transform 0.15s, box-shadow 0.2s; display: flex; align-items: center; gap: 8px; white-space: nowrap; }
        .search-btn:hover { transform: translateY(-1px); box-shadow: 0 4px 16px rgba(37,99,235,0.35); }
        .search-btn:active { transform: translateY(0); }

        .no-result { text-align: center; padding: 48px 20px; color: var(--text-light); display: none; }
        .no-result .big-icon { font-size: 2.5rem; margin-bottom: 12px; }
        .no-result p { font-size: 1rem; margin-bottom: 4px; }
        .no-result .sub { font-size: 0.85rem; }

        .result-container { display: none; }
        .result-container.show { display: block; }

        .compatibility-banner { padding: 16px 20px; border-radius: var(--radius); margin-bottom: 24px; display: flex; align-items: center; gap: 12px; font-weight: 500; font-size: 1rem; line-height: 1.5; }
        .compatibility-banner.compatible { background: #dcfce7; color: #15803d; border: 1px solid #bbf7d0; }
        .compatibility-banner.partial { background: #fef3c7; color: #b45309; border: 1px solid #fde68a; }
        .compatibility-banner.incompatible { background: #fee2e2; color: #b91c1c; border: 1px solid #fecaca; }
        .compatibility-banner .banner-icon { font-size: 1.4rem; }

        .country-cards { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 24px; }
        .country-card { background: var(--card-bg); border-radius: var(--radius); box-shadow: var(--shadow-sm); border: 1px solid var(--border); overflow: hidden; }
        .country-card-header { padding: 14px 18px; font-weight: 600; font-size: 1rem; display: flex; align-items: center; gap: 8px; }
        .country-card.origin .country-card-header { background: linear-gradient(135deg, #eff6ff, #dbeafe); color: var(--primary-dark); border-bottom: 2px solid var(--primary); }
        .country-card.destination .country-card-header { background: linear-gradient(135deg, #fef3c7, #fde68a); color: #92400e; border-bottom: 2px solid var(--accent); }
        .country-card-body { padding: 18px; }
        .spec-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #f1f5f9; font-size: 0.93rem; }
        .spec-row:last-child { border-bottom: none; }
        .spec-label { color: var(--text-light); font-weight: 400; }
        .spec-value { font-weight: 600; color: var(--text); text-align: right; max-width: 60%; }

        .clock-display { text-align: center; padding: 18px 12px; margin-top: 14px; background: linear-gradient(135deg, #f8fafc, #f1f5f9); border-radius: 10px; }
        .clock-period-icon { font-size: 1.6rem; margin-bottom: 4px; }
        .clock-time { font-size: 2rem; font-weight: 700; font-variant-numeric: tabular-nums; color: var(--primary-dark); letter-spacing: 2px; }
        .clock-date { font-size: 0.82rem; color: var(--text-light); margin-top: 4px; }

        .note-row { margin-top: 10px; padding: 10px 12px; background: #fffbeb; border-radius: 8px; font-size: 0.83rem; color: #92400e; line-height: 1.5; display: none; }
        .note-row.show { display: block; }

        .adapter-box { background: var(--card-bg); border-radius: var(--radius); box-shadow: var(--shadow-sm); border: 1px solid var(--border); padding: 20px; }
        .adapter-box h3 { font-size: 1rem; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        .adapter-tip { font-size: 0.9rem; color: var(--text-light); line-height: 1.7; padding-left: 4px; }
        .adapter-tip li { margin-bottom: 6px; list-style: none; position: relative; padding-left: 20px; }
        .adapter-tip li::before { content: '‚Ä¢'; color: var(--primary); font-weight: 700; position: absolute; left: 0; }

        footer { background: #1e293b; color: rgba(255,255,255,0.7); padding: 36px 24px 20px; margin-top: auto; }
        .footer-grid { max-width: 900px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 28px; margin-bottom: 28px; }
        .footer-col h4 { color: #fff; font-size: 0.95rem; margin-bottom: 12px; display: flex; align-items: center; gap: 6px; }
        .footer-col a { display: block; color: rgba(255,255,255,0.6); text-decoration: none; font-size: 0.88rem; padding: 4px 0; transition: color 0.2s; }
        .footer-col a:hover { color: #fff; }
        .footer-col a.active-link { color: var(--accent); font-weight: 500; }
        .footer-bottom { text-align: center; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 16px; font-size: 0.82rem; }
        .footer-bottom a { color: rgba(255,255,255,0.5); text-decoration: none; }
        .footer-bottom a:hover { color: #fff; }

        @media (max-width: 640px) {
            .page-title { font-size: 1.3rem; }
            .selector-row { flex-direction: column; }
            .selector-group { min-width: 100%; }
            .search-btn-wrapper { width: 100%; }
            .search-btn { width: 100%; justify-content: center; }
            .country-cards { grid-template-columns: 1fr; }
            .header-right a.contact-link { display: none; }
            .clock-time { font-size: 1.6rem; }
        }
    </style>
</head>
<body>

<header>
    <div class="logo">
        <img src="logo.png" alt="Roamwise Logo" class="logo-img">
        Roam<span>wise</span>
    </div>
    <div class="header-right">
        <a href="#" class="contact-link">ËÅØÁµ°ÊàëÂÄë</a>
        <select class="lang-select" onchange="changeLanguage(this.value)">
            <option value="time-zone-zh.html" selected="">ÁπÅÈ´î‰∏≠Êñá</option>
            <option value="time-zone-en.html">English</option>
            <option value="time-zone-es.html">Espa√±ol</option>
            <option value="time-zone-pt.html">Portugu√™s</option>
        </select>
    </div>
</header>

<script>
    function changeLanguage(filename) {
        window.location.href = filename;
    }
</script>

<main>
    <h1 class="page-title">üïê World Time Zone Lookup</h1>

    <div class="info-box">
        <span class="icon">‚ÑπÔ∏è</span>
        <div>Select or enter your departure city and destination city to view local time zone information, current time, and time difference, helping you plan your travel schedule. Supports over 100 major cities worldwide.</div>
    </div>

    <div class="query-card">
        <div class="selector-row">
            <div class="selector-group">
                <label><span class="icon">üè†</span> Departure City</label>
                <div class="custom-select-wrapper">
                    <input type="text" id="originInput" placeholder="Enter city or country name‚Ä¶" autocomplete="off">
                    <div class="dropdown-list" id="originDropdown"></div>
                </div>
            </div>
            <div class="selector-group">
                <label><span class="icon">‚úàÔ∏è</span> Destination City</label>
                <div class="custom-select-wrapper">
                    <input type="text" id="destInput" placeholder="Enter city or country name‚Ä¶" autocomplete="off">
                    <div class="dropdown-list" id="destDropdown"></div>
                </div>
            </div>
            <div class="search-btn-wrapper">
                <button class="search-btn" id="searchBtn">üîç Search</button>
            </div>
        </div>
    </div>

    <div class="results-area">
        <div class="no-result" id="noResult">
            <div class="big-icon">üîç</div>
            <p>No Results Found</p>
            <p class="sub">Please verify the city name or select from the dropdown</p>
        </div>

        <div class="result-container" id="resultContainer">
            <div id="compatBanner" class="compatibility-banner"></div>
            <div class="country-cards">
                <div class="country-card origin">
                    <div class="country-card-header"><span>üè†</span> <span id="originName"></span></div>
                    <div class="country-card-body">
                        <div class="spec-row"><span class="spec-label">Country</span><span class="spec-value" id="originCountry"></span></div>
                        <div class="spec-row"><span class="spec-label">Time Zone</span><span class="spec-value" id="originTz"></span></div>
                        <div class="spec-row"><span class="spec-label">Time Zone Name</span><span class="spec-value" id="originTzName"></span></div>
                        <div class="spec-row"><span class="spec-label">Daylight Saving Time</span><span class="spec-value" id="originDst"></span></div>
                        <div class="clock-display">
                            <div class="clock-period-icon" id="originPeriodIcon">‚òÄÔ∏è</div>
                            <div class="clock-time" id="originClock">--:--:--</div>
                            <div class="clock-date" id="originDate">--/--/----</div>
                        </div>
                        <div class="note-row" id="originNote"></div>
                    </div>
                </div>
                <div class="country-card destination">
                    <div class="country-card-header"><span>‚úàÔ∏è</span> <span id="destName"></span></div>
                    <div class="country-card-body">
                        <div class="spec-row"><span class="spec-label">Country</span><span class="spec-value" id="destCountry"></span></div>
                        <div class="spec-row"><span class="spec-label">Time Zone</span><span class="spec-value" id="destTz"></span></div>
                        <div class="spec-row"><span class="spec-label">Time Zone Name</span><span class="spec-value" id="destTzName"></span></div>
                        <div class="spec-row"><span class="spec-label">Daylight Saving Time</span><span class="spec-value" id="destDst"></span></div>
                        <div class="clock-display">
                            <div class="clock-period-icon" id="destPeriodIcon">‚òÄÔ∏è</div>
                            <div class="clock-time" id="destClock">--:--:--</div>
                            <div class="clock-date" id="destDate">--/--/----</div>
                        </div>
                        <div class="note-row" id="destNote"></div>
                    </div>
                </div>
            </div>
            <div class="adapter-box">
                <h3>üí° Travel Jet Lag Tips</h3>
                <ul class="adapter-tip" id="adapterTips"></ul>
            </div>
        </div>
    </div>
</main>

<footer>
    <div class="footer-grid">
        <div class="footer-col">
            <h4>üîå Power &amp; Time</h4>
            <a href="plug/plug-en.html">Plug Specification Lookup</a>
            <a href="time-zone/time-zone-en.html" class="active-link">Time Zone Lookup</a>
            <a href="timer/timer-en.html" class="active-link">Timer</a>
            <a href="sunset/sunset-en.html">Sunrise &amp; Sunset Times</a>
        </div>
        <div class="footer-col">
            <h4>üéâ Holidays &amp; Festivals</h4>
            <a href="#">Public Holidays by Country</a>
            <a href="#">Festival Events Overview</a>
        </div>
        <div class="footer-col">
            <h4>üí± Finance &amp; Units</h4>
            <a href="currency/currency-en.html">Currency Conversion</a>
            <a href="unit/unit-en.html">Unit Conversion</a>
        </div>
        <div class="footer-col">
            <h4>üåç Travel Information</h4>
            <a href="#">Country Overview</a>
            <a href="#">Detailed Local Guides</a>
        </div>
    </div>
    <div class="footer-bottom">¬© 2026 Roamwise. All rights reserved. | <a href="#">Privacy Policy</a> | <a href="#">Terms of Use</a></div>
</footer>

<script>
const cities = [
    // ===== Asia =====
    { city:"Taipei", country:"Taiwan", region:"Asia", iana:"Asia/Taipei", tz:"UTC+8", abbr:"CST", full:"Chungyuan Standard Time", dst:false, dstP:"", note:"" },
    { city:"Kaohsiung", country:"Taiwan", region:"Asia", iana:"Asia/Taipei", tz:"UTC+8", abbr:"CST", full:"Chungyuan Standard Time", dst:false, dstP:"", note:"" },
    { city:"Tokyo", country:"Japan", region:"Asia", iana:"Asia/Tokyo", tz:"UTC+9", abbr:"JST", full:"Japan Standard Time", dst:false, dstP:"", note:"" },
    { city:"Osaka", country:"Japan", region:"Asia", iana:"Asia/Tokyo", tz:"UTC+9", abbr:"JST", full:"Japan Standard Time", dst:false, dstP:"", note:"" },
    { city:"Kyoto", country:"Japan", region:"Asia", iana:"Asia/Tokyo", tz:"UTC+9", abbr:"JST", full:"Japan Standard Time", dst:false, dstP:"", note:"" },
    { city:"Beijing", country:"China", region:"Asia", iana:"Asia/Shanghai", tz:"UTC+8", abbr:"CST", full:"China Standard Time", dst:false, dstP:"", note:"The entire country uses Beijing Time." },
    { city:"Shanghai", country:"China", region:"Asia", iana:"Asia/Shanghai", tz:"UTC+8", abbr:"CST", full:"China Standard Time", dst:false, dstP:"", note:"" },
    { city:"Guangzhou", country:"China", region:"Asia", iana:"Asia/Shanghai", tz:"UTC+8", abbr:"CST", full:"China Standard Time", dst:false, dstP:"", note:"" },
    { city:"Shenzhen", country:"China", region:"Asia", iana:"Asia/Shanghai", tz:"UTC+8", abbr:"CST", full:"China Standard Time", dst:false, dstP:"", note:"" },
    { city:"Chongqing", country:"China", region:"Asia", iana:"Asia/Shanghai", tz:"UTC+8", abbr:"CST", full:"China Standard Time", dst:false, dstP:"", note:"" },
    { city:"Chengdu", country:"China", region:"Asia", iana:"Asia/Shanghai", tz:"UTC+8", abbr:"CST", full:"China Standard Time", dst:false, dstP:"", note:"" },
    { city:"Hong Kong", country:"Hong Kong", region:"Asia", iana:"Asia/Hong_Kong", tz:"UTC+8", abbr:"HKT", full:"Hong Kong Time", dst:false, dstP:"", note:"" },
    { city:"Macau", country:"Macau", region:"Asia", iana:"Asia/Macau", tz:"UTC+8", abbr:"MOT", full:"Macau Standard Time", dst:false, dstP:"", note:"" },
    { city:"Seoul", country:"South Korea", region:"Asia", iana:"Asia/Seoul", tz:"UTC+9", abbr:"KST", full:"Korea Standard Time", dst:false, dstP:"", note:"" },
    { city:"Busan", country:"South Korea", region:"Asia", iana:"Asia/Seoul", tz:"UTC+9", abbr:"KST", full:"Korea Standard Time", dst:false, dstP:"", note:"" },
    { city:"Bangkok", country:"Thailand", region:"Asia", iana:"Asia/Bangkok", tz:"UTC+7", abbr:"ICT", full:"Indochina Time", dst:false, dstP:"", note:"" },
    { city:"Chiang Mai", country:"Thailand", region:"Asia", iana:"Asia/Bangkok", tz:"UTC+7", abbr:"ICT", full:"Indochina Time", dst:false, dstP:"", note:"" },
    { city:"Phuket", country:"Thailand", region:"Asia", iana:"Asia/Bangkok", tz:"UTC+7", abbr:"ICT", full:"Indochina Time", dst:false, dstP:"", note:"" },
    { city:"Ho Chi Minh City", country:"Vietnam", region:"Asia", iana:"Asia/Ho_Chi_Minh", tz:"UTC+7", abbr:"ICT", full:"Indochina Time", dst:false, dstP:"", note:"" },
    { city:"Hanoi", country:"Vietnam", region:"Asia", iana:"Asia/Ho_Chi_Minh", tz:"UTC+7", abbr:"ICT", full:"Indochina Time", dst:false, dstP:"", note:"" },
    { city:"Singapore", country:"Singapore", region:"Asia", iana:"Asia/Singapore", tz:"UTC+8", abbr:"SGT", full:"Singapore Standard Time", dst:false, dstP:"", note:"" },
    { city:"Kuala Lumpur", country:"Malaysia", region:"Asia", iana:"Asia/Kuala_Lumpur", tz:"UTC+8", abbr:"MYT", full:"Malaysia Standard Time", dst:false, dstP:"", note:"" },
    { city:"Jakarta", country:"Indonesia", region:"Asia", iana:"Asia/Jakarta", tz:"UTC+7", abbr:"WIB", full:"Western Indonesia Time", dst:false, dstP:"", note:"" },
    { city:"Bali", country:"Indonesia", region:"Asia", iana:"Asia/Makassar", tz:"UTC+8", abbr:"WITA", full:"Central Indonesia Time", dst:false, dstP:"", note:"1 hour difference from Jakarta" },
    { city:"Manila", country:"Philippines", region:"Asia", iana:"Asia/Manila", tz:"UTC+8", abbr:"PHT", full:"Philippine Standard Time", dst:false, dstP:"", note:"" },
    { city:"Cebu", country:"Philippines", region:"Asia", iana:"Asia/Manila", tz:"UTC+8", abbr:"PHT", full:"Philippine Standard Time", dst:false, dstP:"", note:"" },
    { city:"New Delhi", country:"India", region:"Asia", iana:"Asia/Kolkata", tz:"UTC+5:30", abbr:"IST", full:"India Standard Time", dst:false, dstP:"", note:"" },
    { city:"Mumbai", country:"India", region:"Asia", iana:"Asia/Kolkata", tz:"UTC+5:30", abbr:"IST", full:"India Standard Time", dst:false, dstP:"", note:"" },
    { city:"Bangalore", country:"India", region:"Asia", iana:"Asia/Kolkata", tz:"UTC+5:30", abbr:"IST", full:"India Standard Time", dst:false, dstP:"", note:"" },
    { city:"Colombo", country:"Sri Lanka", region:"Asia", iana:"Asia/Colombo", tz:"UTC+5:30", abbr:"SLST", full:"Sri Lanka Standard Time", dst:false, dstP:"", note:"" },
    { city:"Kathmandu", country:"Nepal", region:"Asia", iana:"Asia/Kathmandu", tz:"UTC+5:45", abbr:"NPT", full:"Nepal Time", dst:false, dstP:"", note:"One of the few time zones in the world with a 45-minute offset" },
    { city:"Phnom Penh", country:"Cambodia", region:"Asia", iana:"Asia/Phnom_Penh", tz:"UTC+7", abbr:"ICT", full:"Indochina Time", dst:false, dstP:"", note:"" },
    { city:"Siem Reap", country:"Cambodia", region:"Asia", iana:"Asia/Phnom_Penh", tz:"UTC+7", abbr:"ICT", full:"Indochina Time", dst:false, dstP:"", note:"" },
    { city:"Yangon", country:"Myanmar", region:"Asia", iana:"Asia/Yangon", tz:"UTC+6:30", abbr:"MMT", full:"Myanmar Standard Time", dst:false, dstP:"", note:"" },
    { city:"Vientiane", country:"Laos", region:"Asia", iana:"Asia/Vientiane", tz:"UTC+7", abbr:"ICT", full:"Indochina Time", dst:false, dstP:"", note:"" },
    { city:"Dhaka", country:"Bangladesh", region:"Asia", iana:"Asia/Dhaka", tz:"UTC+6", abbr:"BST", full:"Bangladesh Standard Time", dst:false, dstP:"", note:"" },
    { city:"Karachi", country:"Pakistan", region:"Asia", iana:"Asia/Karachi", tz:"UTC+5", abbr:"PKT", full:"Pakistan Standard Time", dst:false, dstP:"", note:"" },
    { city:"Islamabad", country:"Pakistan", region:"Asia", iana:"Asia/Karachi", tz:"UTC+5", abbr:"PKT", full:"Pakistan Standard Time", dst:false, dstP:"", note:"" },
    // ===== Middle East =====
    { city:"Dubai", country:"UAE", region:"Middle East", iana:"Asia/Dubai", tz:"UTC+4", abbr:"GST", full:"Gulf Standard Time", dst:false, dstP:"", note:"" },
    { city:"Abu Dhabi", country:"UAE", region:"Middle East", iana:"Asia/Dubai", tz:"UTC+4", abbr:"GST", full:"Gulf Standard Time", dst:false, dstP:"", note:"" },
    { city:"Riyadh", country:"Saudi Arabia", region:"Middle East", iana:"Asia/Riyadh", tz:"UTC+3", abbr:"AST", full:"Arabia Standard Time", dst:false, dstP:"", note:"" },
    { city:"Doha", country:"Qatar", region:"Middle East", iana:"Asia/Qatar", tz:"UTC+3", abbr:"AST", full:"Arabia Standard Time", dst:false, dstP:"", note:"" },
    { city:"Jerusalem", country:"Israel", region:"Middle East", iana:"Asia/Jerusalem", tz:"UTC+2", abbr:"IST", full:"Israel Standard Time", dst:true, dstP:"March ~ October (IDT, UTC+3)", note:"" },
    { city:"Tel Aviv", country:"Israel", region:"Middle East", iana:"Asia/Jerusalem", tz:"UTC+2", abbr:"IST", full:"Israel Standard Time", dst:true, dstP:"March ~ October (IDT, UTC+3)", note:"" },
    { city:"Amman", country:"Jordan", region:"Middle East", iana:"Asia/Amman", tz:"UTC+3", abbr:"AST", full:"Arabia Standard Time", dst:false, dstP:"", note:"Permanently adopted UTC+3 since 2022" },
    { city:"Istanbul", country:"Turkey", region:"Middle East", iana:"Europe/Istanbul", tz:"UTC+3", abbr:"TRT", full:"Turkey Time", dst:false, dstP:"", note:"No longer observes daylight saving time since 2016" },
    { city:"Mal√©", country:"Maldives", region:"Middle East", iana:"Indian/Maldives", tz:"UTC+5", abbr:"MVT", full:"Maldives Time", dst:false, dstP:"", note:"" },
    // ===== Europe =====
    { city:"London", country:"UK", region:"Europe", iana:"Europe/London", tz:"UTC+0", abbr:"GMT", full:"Greenwich Mean Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (BST, UTC+1)", note:"" },
    { city:"Edinburgh", country:"UK", region:"Europe", iana:"Europe/London", tz:"UTC+0", abbr:"GMT", full:"Greenwich Mean Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (BST, UTC+1)", note:"" },
    { city:"Manchester", country:"UK", region:"Europe", iana:"Europe/London", tz:"UTC+0", abbr:"GMT", full:"Greenwich Mean Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (BST, UTC+1)", note:"" },
    { city:"Paris", country:"France", region:"Europe", iana:"Europe/Paris", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Nice", country:"France", region:"Europe", iana:"Europe/Paris", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Berlin", country:"Germany", region:"Europe", iana:"Europe/Berlin", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Munich", country:"Germany", region:"Europe", iana:"Europe/Berlin", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Frankfurt", country:"Germany", region:"Europe", iana:"Europe/Berlin", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Rome", country:"Italy", region:"Europe", iana:"Europe/Rome", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Milan", country:"Italy", region:"Europe", iana:"Europe/Rome", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Venice", country:"Italy", region:"Europe", iana:"Europe/Rome", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Madrid", country:"Spain", region:"Europe", iana:"Europe/Madrid", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Barcelona", country:"Spain", region:"Europe", iana:"Europe/Madrid", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Lisbon", country:"Portugal", region:"Europe", iana:"Europe/Lisbon", tz:"UTC+0", abbr:"WET", full:"Western European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (WEST, UTC+1)", note:"" },
    { city:"Amsterdam", country:"Netherlands", region:"Europe", iana:"Europe/Amsterdam", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Brussels", country:"Belgium", region:"Europe", iana:"Europe/Brussels", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Zurich", country:"Switzerland", region:"Europe", iana:"Europe/Zurich", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Geneva", country:"Switzerland", region:"Europe", iana:"Europe/Zurich", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Vienna", country:"Austria", region:"Europe", iana:"Europe/Vienna", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Stockholm", country:"Sweden", region:"Europe", iana:"Europe/Stockholm", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Oslo", country:"Norway", region:"Europe", iana:"Europe/Oslo", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Copenhagen", country:"Denmark", region:"Europe", iana:"Europe/Copenhagen", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Helsinki", country:"Finland", region:"Europe", iana:"Europe/Helsinki", tz:"UTC+2", abbr:"EET", full:"Eastern European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (EEST, UTC+3)", note:"" },
    { city:"Reykjavik", country:"Iceland", region:"Europe", iana:"Atlantic/Reykjavik", tz:"UTC+0", abbr:"GMT", full:"Greenwich Mean Time", dst:false, dstP:"", note:"Iceland does not observe daylight saving time" },
    { city:"Dublin", country:"Ireland", region:"Europe", iana:"Europe/Dublin", tz:"UTC+0", abbr:"GMT", full:"Greenwich Mean Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (IST, UTC+1)", note:"" },
    { city:"Athens", country:"Greece", region:"Europe", iana:"Europe/Athens", tz:"UTC+2", abbr:"EET", full:"Eastern European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (EEST, UTC+3)", note:"" },
    { city:"Warsaw", country:"Poland", region:"Europe", iana:"Europe/Warsaw", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Prague", country:"Czech Republic", region:"Europe", iana:"Europe/Prague", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Budapest", country:"Hungary", region:"Europe", iana:"Europe/Budapest", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Zagreb", country:"Croatia", region:"Europe", iana:"Europe/Zagreb", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    { city:"Moscow", country:"Russia", region:"Europe", iana:"Europe/Moscow", tz:"UTC+3", abbr:"MSK", full:"Moscow Standard Time", dst:false, dstP:"", note:"" },
    { city:"Saint Petersburg", country:"Russia", region:"Europe", iana:"Europe/Moscow", tz:"UTC+3", abbr:"MSK", full:"Moscow Standard Time", dst:false, dstP:"", note:"" },
    { city:"Yekaterinburg", country:"Russia", region:"Europe", iana:"Asia/Yekaterinburg", tz:"UTC+5", abbr:"YEKT", full:"Yekaterinburg Time", dst:false, dstP:"", note:"" },
    { city:"Novosibirsk", country:"Russia", region:"Europe", iana:"Asia/Novosibirsk", tz:"UTC+7", abbr:"NOVT", full:"Novosibirsk Time", dst:false, dstP:"", note:"" },
    { city:"Vladivostok", country:"Russia", region:"Europe", iana:"Asia/Vladivostok", tz:"UTC+10", abbr:"VLAT", full:"Vladivostok Time", dst:false, dstP:"", note:"" },
    { city:"Kyiv", country:"Ukraine", region:"Europe", iana:"Europe/Kyiv", tz:"UTC+2", abbr:"EET", full:"Eastern European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (EEST, UTC+3)", note:"" },
    { city:"Riga", country:"Latvia", region:"Europe", iana:"Europe/Riga", tz:"UTC+2", abbr:"EET", full:"Eastern European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (EEST, UTC+3)", note:"" },
    { city:"Monte Carlo", country:"Monaco", region:"Europe", iana:"Europe/Monaco", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Last Sunday of March ~ Last Sunday of October (CEST, UTC+2)", note:"" },
    // ===== North America =====
    { city:"New York", country:"USA", region:"North America", iana:"America/New_York", tz:"UTC-5", abbr:"EST", full:"Eastern Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (EDT, UTC-4)", note:"" },
    { city:"Washington D.C.", country:"USA", region:"North America", iana:"America/New_York", tz:"UTC-5", abbr:"EST", full:"Eastern Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (EDT, UTC-4)", note:"" },
    { city:"Boston", country:"USA", region:"North America", iana:"America/New_York", tz:"UTC-5", abbr:"EST", full:"Eastern Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (EDT, UTC-4)", note:"" },
    { city:"Miami", country:"USA", region:"North America", iana:"America/New_York", tz:"UTC-5", abbr:"EST", full:"Eastern Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (EDT, UTC-4)", note:"" },
    { city:"Atlanta", country:"USA", region:"North America", iana:"America/New_York", tz:"UTC-5", abbr:"EST", full:"Eastern Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (EDT, UTC-4)", note:"" },
    { city:"Chicago", country:"USA", region:"North America", iana:"America/Chicago", tz:"UTC-6", abbr:"CST", full:"Central Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (CDT, UTC-5)", note:"" },
    { city:"Houston", country:"USA", region:"North America", iana:"America/Chicago", tz:"UTC-6", abbr:"CST", full:"Central Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (CDT, UTC-5)", note:"" },
    { city:"Dallas", country:"USA", region:"North America", iana:"America/Chicago", tz:"UTC-6", abbr:"CST", full:"Central Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (CDT, UTC-5)", note:"" },
    { city:"Denver", country:"USA", region:"North America", iana:"America/Denver", tz:"UTC-7", abbr:"MST", full:"Mountain Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (MDT, UTC-6)", note:"" },
    { city:"Phoenix", country:"USA", region:"North America", iana:"America/Phoenix", tz:"UTC-7", abbr:"MST", full:"Mountain Standard Time", dst:false, dstP:"", note:"Arizona does not observe daylight saving time" },
    { city:"Los Angeles", country:"USA", region:"North America", iana:"America/Los_Angeles", tz:"UTC-8", abbr:"PST", full:"Pacific Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (PDT, UTC-7)", note:"" },
    { city:"San Francisco", country:"USA", region:"North America", iana:"America/Los_Angeles", tz:"UTC-8", abbr:"PST", full:"Pacific Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (PDT, UTC-7)", note:"" },
    { city:"Seattle", country:"USA", region:"North America", iana:"America/Los_Angeles", tz:"UTC-8", abbr:"PST", full:"Pacific Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (PDT, UTC-7)", note:"" },
    { city:"Las Vegas", country:"USA", region:"North America", iana:"America/Los_Angeles", tz:"UTC-8", abbr:"PST", full:"Pacific Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (PDT, UTC-7)", note:"" },
    { city:"Anchorage", country:"USA", region:"North America", iana:"America/Anchorage", tz:"UTC-9", abbr:"AKST", full:"Alaska Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (AKDT, UTC-8)", note:"" },
    { city:"Honolulu", country:"USA", region:"North America", iana:"Pacific/Honolulu", tz:"UTC-10", abbr:"HST", full:"Hawaii Standard Time", dst:false, dstP:"", note:"Hawaii does not observe daylight saving time" },
    { city:"Toronto", country:"Canada", region:"North America", iana:"America/Toronto", tz:"UTC-5", abbr:"EST", full:"Eastern Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (EDT, UTC-4)", note:"" },
    { city:"Montreal", country:"Canada", region:"North America", iana:"America/Toronto", tz:"UTC-5", abbr:"EST", full:"Eastern Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (EDT, UTC-4)", note:"" },
    { city:"Ottawa", country:"Canada", region:"North America", iana:"America/Toronto", tz:"UTC-5", abbr:"EST", full:"Eastern Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (EDT, UTC-4)", note:"" },
    { city:"Calgary", country:"Canada", region:"North America", iana:"America/Edmonton", tz:"UTC-7", abbr:"MST", full:"Mountain Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (MDT, UTC-6)", note:"" },
    { city:"Vancouver", country:"Canada", region:"North America", iana:"America/Vancouver", tz:"UTC-8", abbr:"PST", full:"Pacific Standard Time", dst:true, dstP:"2nd Sunday of March ~ 1st Sunday of November (PDT, UTC-7)", note:"" },
    { city:"Mexico City", country:"Mexico", region:"North America", iana:"America/Mexico_City", tz:"UTC-6", abbr:"CST", full:"Central Standard Time", dst:false, dstP:"", note:"Mexico abolished daylight saving time in most regions in 2022" },
    { city:"Canc√∫n", country:"Mexico", region:"North America", iana:"America/Cancun", tz:"UTC-5", abbr:"EST", full:"Eastern Standard Time", dst:false, dstP:"", note:"Canc√∫n uses UTC-5 and does not observe daylight saving time" },
    { city:"Havana", country:"Cuba", region:"North America", iana:"America/Havana", tz:"UTC-5", abbr:"CST", full:"Cuba Standard Time", dst:true, dstP:"March ~ November", note:"" },
    { city:"Panama City", country:"Panama", region:"North America", iana:"America/Panama", tz:"UTC-5", abbr:"EST", full:"Eastern Standard Time", dst:false, dstP:"", note:"" },
    { city:"San Jos√©", country:"Costa Rica", region:"North America", iana:"America/Costa_Rica", tz:"UTC-6", abbr:"CST", full:"Central Standard Time", dst:false, dstP:"", note:"" },
    // ===== South America =====
    { city:"S√£o Paulo", country:"Brazil", region:"South America", iana:"America/Sao_Paulo", tz:"UTC-3", abbr:"BRT", full:"Bras√≠lia Standard Time", dst:false, dstP:"", note:"Daylight saving time was abolished in 2019" },
    { city:"Rio de Janeiro", country:"Brazil", region:"South America", iana:"America/Sao_Paulo", tz:"UTC-3", abbr:"BRT", full:"Bras√≠lia Standard Time", dst:false, dstP:"", note:"" },
    { city:"Buenos Aires", country:"Argentina", region:"South America", iana:"America/Argentina/Buenos_Aires", tz:"UTC-3", abbr:"ART", full:"Argentina Standard Time", dst:false, dstP:"", note:"" },
    { city:"Santiago", country:"Chile", region:"South America", iana:"America/Santiago", tz:"UTC-4", abbr:"CLT", full:"Chile Standard Time", dst:true, dstP:"Southern Hemisphere summer (CLST, UTC-3)", note:"" },
    { city:"Bogot√°", country:"Colombia", region:"South America", iana:"America/Bogota", tz:"UTC-5", abbr:"COT", full:"Colombia Standard Time", dst:false, dstP:"", note:"" },
    { city:"Lima", country:"Peru", region:"South America", iana:"America/Lima", tz:"UTC-5", abbr:"PET", full:"Peru Standard Time", dst:false, dstP:"", note:"" },
    { city:"Montevideo", country:"Uruguay", region:"South America", iana:"America/Montevideo", tz:"UTC-3", abbr:"UYT", full:"Uruguay Standard Time", dst:false, dstP:"", note:"" },
    // ===== Oceania =====
    { city:"Sydney", country:"Australia", region:"Oceania", iana:"Australia/Sydney", tz:"UTC+10", abbr:"AEST", full:"Australian Eastern Standard Time", dst:true, dstP:"1st Sunday of October ~ 1st Sunday of April (AEDT, UTC+11)", note:"" },
    { city:"Melbourne", country:"Australia", region:"Oceania", iana:"Australia/Melbourne", tz:"UTC+10", abbr:"AEST", full:"Australian Eastern Standard Time", dst:true, dstP:"1st Sunday of October ~ 1st Sunday of April (AEDT, UTC+11)", note:"" },
    { city:"Brisbane", country:"Australia", region:"Oceania", iana:"Australia/Brisbane", tz:"UTC+10", abbr:"AEST", full:"Australian Eastern Standard Time", dst:false, dstP:"", note:"Queensland does not observe daylight saving time" },
    { city:"Perth", country:"Australia", region:"Oceania", iana:"Australia/Perth", tz:"UTC+8", abbr:"AWST", full:"Australian Western Standard Time", dst:false, dstP:"", note:"" },
    { city:"Adelaide", country:"Australia", region:"Oceania", iana:"Australia/Adelaide", tz:"UTC+9:30", abbr:"ACST", full:"Australian Central Standard Time", dst:true, dstP:"1st Sunday of October ~ 1st Sunday of April (ACDT, UTC+10:30)", note:"" },
    { city:"Auckland", country:"New Zealand", region:"Oceania", iana:"Pacific/Auckland", tz:"UTC+12", abbr:"NZST", full:"New Zealand Standard Time", dst:true, dstP:"Last Sunday of September ~ 1st Sunday of April (NZDT, UTC+13)", note:"" },
    { city:"Wellington", country:"New Zealand", region:"Oceania", iana:"Pacific/Auckland", tz:"UTC+12", abbr:"NZST", full:"New Zealand Standard Time", dst:true, dstP:"Last Sunday of September ~ 1st Sunday of April (NZDT, UTC+13)", note:"" },
    { city:"Suva", country:"Fiji", region:"Oceania", iana:"Pacific/Fiji", tz:"UTC+12", abbr:"FJT", full:"Fiji Standard Time", dst:true, dstP:"November ~ January (FJST, UTC+13)", note:"" },
    // ===== Africa =====
    { city:"Cairo", country:"Egypt", region:"Africa", iana:"Africa/Cairo", tz:"UTC+2", abbr:"EET", full:"Eastern European Time", dst:false, dstP:"", note:"" },
    { city:"Johannesburg", country:"South Africa", region:"Africa", iana:"Africa/Johannesburg", tz:"UTC+2", abbr:"SAST", full:"South Africa Standard Time", dst:false, dstP:"", note:"" },
    { city:"Cape Town", country:"South Africa", region:"Africa", iana:"Africa/Johannesburg", tz:"UTC+2", abbr:"SAST", full:"South Africa Standard Time", dst:false, dstP:"", note:"" },
    { city:"Nairobi", country:"Kenya", region:"Africa", iana:"Africa/Nairobi", tz:"UTC+3", abbr:"EAT", full:"East Africa Time", dst:false, dstP:"", note:"" },
    { city:"Casablanca", country:"Morocco", region:"Africa", iana:"Africa/Casablanca", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Special schedule (suspended during Ramadan)", note:"Daylight saving time is temporarily suspended during Ramadan" },
    { city:"Marrakech", country:"Morocco", region:"Africa", iana:"Africa/Casablanca", tz:"UTC+1", abbr:"CET", full:"Central European Time", dst:true, dstP:"Special schedule (suspended during Ramadan)", note:"" },
    { city:"Lagos", country:"Nigeria", region:"Africa", iana:"Africa/Lagos", tz:"UTC+1", abbr:"WAT", full:"West Africa Time", dst:false, dstP:"", note:"" },
    { city:"Dar es Salaam", country:"Tanzania", region:"Africa", iana:"Africa/Dar_es_Salaam", tz:"UTC+3", abbr:"EAT", full:"East Africa Time", dst:false, dstP:"", note:"" },
    { city:"Accra", country:"Ghana", region:"Africa", iana:"Africa/Accra", tz:"UTC+0", abbr:"GMT", full:"Greenwich Mean Time", dst:false, dstP:"", note:"" },
    { city:"Addis Ababa", country:"Ethiopia", region:"Africa", iana:"Africa/Addis_Ababa", tz:"UTC+3", abbr:"EAT", full:"East Africa Time", dst:false, dstP:"", note:"" },
];

// Build lookup map by display label
const cityMap = {};
const cityLabels = [];
const regionOrder = ["Asia","Middle East","Europe","North America","South America","Oceania","Africa"];

cities.forEach(c => {
    const label = c.city + " (" + c.country + ")";
    c.label = label;
    cityMap[label] = c;
    cityLabels.push(label);
});

// Group by region
function groupByRegion(list) {
    const groups = {};
    regionOrder.forEach(r => groups[r] = []);
    list.forEach(c => {
        if (groups[c.region]) groups[c.region].push(c);
    });
    return groups;
}

// ===== Dropdown =====
function setupDropdown(inputId, dropdownId) {
    const input = document.getElementById(inputId);
    const dropdown = document.getElementById(dropdownId);

    function render(filter = '') {
        const f = filter.trim().toLowerCase();
        const matches = f ? cities.filter(c => c.city.toLowerCase().includes(f) || c.country.toLowerCase().includes(f) || c.label.toLowerCase().includes(f)) : cities;
        const grouped = groupByRegion(matches);
        dropdown.innerHTML = '';
        let total = 0;
        regionOrder.forEach(region => {
            const items = grouped[region];
            if (!items || items.length === 0) return;
            const header = document.createElement('div');
            header.className = 'dropdown-group-header';
            header.textContent = region;
            dropdown.appendChild(header);
            items.forEach(c => {
                const div = document.createElement('div');
                div.className = 'dropdown-item';
                div.innerHTML = '<span>' + c.city + ' (' + c.country + ')</span><span class="city-tz">' + c.tz + '</span>';
                div.addEventListener('mousedown', e => {
                    e.preventDefault();
                    input.value = c.label;
                    dropdown.classList.remove('show');
                });
                dropdown.appendChild(div);
                total++;
            });
        });
        if (total === 0) {
            const div = document.createElement('div');
            div.className = 'dropdown-item';
            div.textContent = 'No matching cities found';
            div.style.color = '#94a3b8';
            dropdown.appendChild(div);
        }
    }

    input.addEventListener('focus', () => { render(input.value); dropdown.classList.add('show'); });
    input.addEventListener('input', () => { render(input.value); dropdown.classList.add('show'); });
    input.addEventListener('blur', () => { setTimeout(() => dropdown.classList.remove('show'), 200); });
}

setupDropdown('originInput', 'originDropdown');
setupDropdown('destInput', 'destDropdown');

// ===== Utility =====
function getUTCOffset(iana) {
    const now = new Date();
    const utcDate = new Date(now.toLocaleString('en-US', { timeZone: 'UTC' }));
    const tzDate = new Date(now.toLocaleString('en-US', { timeZone: iana }));
    return (tzDate - utcDate) / 3600000;
}

function formatTimeDiff(diffHours) {
    const abs = Math.abs(diffHours);
    const h = Math.floor(abs);
    const m = Math.round((abs - h) * 60);
    let parts = [];
    if (h > 0) parts.push(h + (h === 1 ? ' hour' : ' hours'));
    if (m > 0) parts.push(m + (m === 1 ? ' minute' : ' minutes'));
    return parts.length === 0 ? '0' : parts.join(' ');
}

function getPeriodIcon(iana) {
    const h = parseInt(new Date().toLocaleString('en-US', { timeZone: iana, hour: 'numeric', hour12: false }));
    if (h >= 6 && h < 12) return 'üåÖ';
    if (h >= 12 && h < 18) return '‚òÄÔ∏è';
    if (h >= 18 && h < 21) return 'üåÜ';
    return 'üåô';
}

function getTimeStr(iana) {
    return new Date().toLocaleTimeString('en-US', { timeZone: iana, hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' });
}

function getDateStr(iana) {
    return new Date().toLocaleDateString('en-US', { timeZone: iana, year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' });
}

let clockInterval = null;
function startClocks(oIana, dIana) {
    if (clockInterval) clearInterval(clockInterval);
    function update() {
        document.getElementById('originClock').textContent = getTimeStr(oIana);
        document.getElementById('originDate').textContent = getDateStr(oIana);
        document.getElementById('originPeriodIcon').textContent = getPeriodIcon(oIana);
        document.getElementById('destClock').textContent = getTimeStr(dIana);
        document.getElementById('destDate').textContent = getDateStr(dIana);
        document.getElementById('destPeriodIcon').textContent = getPeriodIcon(dIana);
    }
    update();
    clockInterval = setInterval(update, 1000);
}

// ===== Search =====
document.getElementById('searchBtn').addEventListener('click', doSearch);
document.getElementById('originInput').addEventListener('keydown', e => { if (e.key === 'Enter') doSearch(); });
document.getElementById('destInput').addEventListener('keydown', e => { if (e.key === 'Enter') doSearch(); });

function doSearch() {
    const oVal = document.getElementById('originInput').value.trim();
    const dVal = document.getElementById('destInput').value.trim();
    const noResult = document.getElementById('noResult');
    const resultContainer = document.getElementById('resultContainer');

    const oData = cityMap[oVal];
    const dData = cityMap[dVal];

    if (!oData || !dData) {
        noResult.style.display = 'block';
        resultContainer.classList.remove('show');
        return;
    }

    noResult.style.display = 'none';
    resultContainer.classList.add('show');

    document.getElementById('originName').textContent = oData.city;
    document.getElementById('originCountry').textContent = oData.country;
    document.getElementById('originTz').textContent = oData.tz;
    document.getElementById('originTzName').textContent = oData.abbr + ' (' + oData.full + ')';
    document.getElementById('originDst').textContent = oData.dst ? 'Yes (' + oData.dstP + ')' : 'No';
    const oNote = document.getElementById('originNote');
    if (oData.note) { oNote.textContent = 'üìç ' + oData.note; oNote.classList.add('show'); } else { oNote.classList.remove('show'); }

    document.getElementById('destName').textContent = dData.city;
    document.getElementById('destCountry').textContent = dData.country;
    document.getElementById('destTz').textContent = dData.tz;
    document.getElementById('destTzName').textContent = dData.abbr + ' (' + dData.full + ')';
    document.getElementById('destDst').textContent = dData.dst ? 'Yes (' + dData.dstP + ')' : 'No';
    const dNote = document.getElementById('destNote');
    if (dData.note) { dNote.textContent = 'üìç ' + dData.note; dNote.classList.add('show'); } else { dNote.classList.remove('show'); }

    const oOff = getUTCOffset(oData.iana);
    const dOff = getUTCOffset(dData.iana);
    const diff = dOff - oOff;
    const absDiff = Math.abs(diff);
    const diffStr = formatTimeDiff(diff);

    const banner = document.getElementById('compatBanner');
    if (absDiff === 0) {
        banner.className = 'compatibility-banner compatible';
        banner.innerHTML = '<span class="banner-icon">‚úÖ</span> No time difference ‚Äî Both cities are in the same time zone. No schedule adjustment needed.';
    } else if (absDiff <= 3) {
        const dir = diff > 0 ? 'ahead of' : 'behind';
        banner.className = 'compatibility-banner compatible';
        banner.innerHTML = '<span class="banner-icon">‚úÖ</span> Minor time difference ‚Äî ' + dData.city + ' is ' + diffStr + ' ' + dir + ' ' + oData.city + '. Minimal impact.';
    } else if (absDiff <= 7) {
        const dir = diff > 0 ? 'ahead of' : 'behind';
        banner.className = 'compatibility-banner partial';
        banner.innerHTML = '<span class="banner-icon">‚ö†Ô∏è</span> Moderate time difference ‚Äî ' + dData.city + ' is ' + diffStr + ' ' + dir + ' ' + oData.city + '. It is recommended to adjust your schedule in advance.';
    } else {
        const dir = diff > 0 ? 'ahead of' : 'behind';
        banner.className = 'compatibility-banner incompatible';
        banner.innerHTML = '<span class="banner-icon">‚ùå</span> Significant time difference ‚Äî ' + dData.city + ' is ' + diffStr + ' ' + dir + ' ' + oData.city + '. Strongly recommended to adjust your body clock in advance.';
    }

    startClocks(oData.iana, dData.iana);

    const tips = document.getElementById('adapterTips');
    tips.innerHTML = '';

    if (absDiff === 0) {
        addTip(tips, 'Both cities are in the same time zone. No jet lag issues. No special schedule adjustment needed.');
    } else {
        const dir = diff > 0 ? 'ahead of' : 'behind';
        addTip(tips, dData.city + ' is ' + diffStr + ' ' + dir + ' ' + oData.city + '. After arriving, please set your watch and phone to the local time as soon as possible.');
    }

    if (absDiff > 0 && absDiff <= 3) {
        addTip(tips, 'The time difference is small. It usually does not cause noticeable jet lag, and most people adapt quickly.');
    } else if (absDiff > 3 && absDiff <= 7) {
        addTip(tips, 'Moderate time difference. It is recommended to gradually adjust your sleep and wake times a few days before departure. During the flight, adjust your sleep according to the destination\'s local time.');
    } else if (absDiff > 7) {
        addTip(tips, 'Large time difference. It is recommended to gradually adjust your schedule starting one week before departure. After arriving, try to get plenty of sunlight during the day and avoid long naps to speed up adaptation to the new time zone.');
        addTip(tips, 'Consider short-term use of melatonin (Melatonin) to help adjust your body clock, but it is advisable to consult a doctor first.');
    }

    if (absDiff > 0) {
        addTip(tips, 'If you need to contact family or friends in ' + oData.city + ', please be mindful of the ' + diffStr + ' time difference to avoid calling during their late-night hours.');
    }

    if (oData.dst && oData.dstP) addTip(tips, 'The origin city (' + oData.city + ') observes daylight saving time (' + oData.dstP + '). The time difference may change by 1 hour during DST.');
    if (dData.dst && dData.dstP) addTip(tips, 'The destination city (' + dData.city + ') observes daylight saving time (' + dData.dstP + '). The time difference may change by 1 hour during DST.');

    addTip(tips, 'It is recommended to enable the "Automatic Time Zone Update" feature in your phone settings, so your phone will automatically switch to the local time upon arrival.');

    resultContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

function addTip(container, text) {
    const li = document.createElement('li');
    li.textContent = text;
    container.appendChild(li);
}
</script>


</body></html>
