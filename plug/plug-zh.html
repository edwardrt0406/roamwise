<!DOCTYPE html><html lang="zh-Hant"><head><meta name="x-poe-datastore-behavior" content="local_only"><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roamwise - æ’é ­æ¨™æº–æŸ¥è©¢</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&amp;display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #dbeafe;
            --accent: #f59e0b;
            --bg: #f0f4f8;
            --card-bg: #ffffff;
            --text: #1e293b;
            --text-light: #64748b;
            --border: #e2e8f0;
            --radius: 12px;
            --shadow: 0 4px 24px rgba(0,0,0,0.07);
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.05);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* HEADER */
        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: #fff;
            padding: 0 24px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky; top: 0; z-index: 100;
            box-shadow: 0 2px 12px rgba(37,99,235,0.3);
        }
        .logo { font-size: 1.4rem; font-weight: 700; letter-spacing: 1px; }
        .logo span { color: var(--accent); }
        .header-right { display: flex; align-items: center; gap: 16px; }
        .header-right a { color: rgba(255,255,255,0.85); text-decoration: none; font-size: 0.9rem; }
        .header-right a:hover { color: #fff; }
        .lang-select {
            background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.3);
            color: #fff; padding: 6px 12px; border-radius: 8px; font-size: 0.85rem;
            cursor: pointer; font-family: inherit;
        }
        .lang-select option { color: #333; background: #fff; }

        /* MAIN */
        main {
            flex: 1; max-width: 960px; width: 100%;
            margin: 0 auto; padding: 32px 16px;
        }
        .page-title {
            text-align: center; font-size: 1.7rem; font-weight: 700;
            margin-bottom: 24px; color: var(--primary-dark);
        }
        .info-box {
            background: var(--primary-light); border-left: 4px solid var(--primary);
            border-radius: 0 var(--radius) var(--radius) 0;
            padding: 14px 18px; margin-bottom: 28px;
            display: flex; gap: 10px; font-size: 0.92rem;
            color: var(--primary-dark); line-height: 1.6;
        }
        .info-box .icon { font-size: 1.2rem; flex-shrink: 0; }

        /* SELECTOR */
        .query-card {
            background: var(--card-bg); border-radius: var(--radius);
            box-shadow: var(--shadow); padding: 24px; margin-bottom: 28px;
        }
        .selector-row { display: flex; gap: 20px; }
        .selector-group { flex: 1; min-width: 0; }
        .selector-group label {
            display: flex; align-items: center; gap: 6px;
            font-weight: 500; font-size: 0.92rem; margin-bottom: 8px; color: var(--text-light);
        }
        .custom-select-wrapper { position: relative; }
        .custom-select-wrapper input {
            width: 100%; padding: 12px 40px 12px 38px;
            border: 2px solid var(--border); border-radius: 10px;
            font-size: 1rem; font-family: inherit;
            transition: border-color 0.2s, box-shadow 0.2s; background: #fff;
        }
        .custom-select-wrapper input:focus {
            outline: none; border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37,99,235,0.12);
        }
        .input-icon-left {
            position: absolute; left: 12px; top: 50%; transform: translateY(-50%);
            color: #94a3b8; font-size: 1rem; pointer-events: none;
        }
        .input-icon-right {
            position: absolute; right: 12px; top: 50%; transform: translateY(-50%);
            color: #94a3b8; font-size: 0.8rem; pointer-events: none;
            transition: transform 0.2s;
        }
        .dropdown-list {
            position: absolute; top: calc(100% + 4px); left: 0; right: 0;
            background: #fff; border: 1px solid var(--border); border-radius: 10px;
            max-height: 240px; overflow-y: auto; box-shadow: var(--shadow);
            z-index: 50; display: none;
        }
        .dropdown-list.show { display: block; }
        .dropdown-item {
            padding: 10px 16px; cursor: pointer; font-size: 0.95rem;
            transition: background 0.12s;
        }
        .dropdown-item:hover { background: var(--primary-light); color: var(--primary-dark); }
        .dropdown-item .en-name { color: #94a3b8; font-size: 0.85rem; margin-left: 6px; }

        /* RESULTS */
        .results-area { transition: opacity 0.3s; }
        #resultContainer { display: none; animation: fadeUp 0.35s ease; }
        #resultContainer.show { display: block; }
        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(12px); }
            to { opacity: 1; transform: translateY(0); }
        }
        #noResult { display: none; }
        #noResult.show { display: block; }
        .no-result { text-align: center; padding: 48px 20px; color: var(--text-light); }
        .no-result .big-icon { font-size: 2.5rem; margin-bottom: 12px; }

        /* Compatibility Banner */
        .compat-banner {
            padding: 16px 20px; border-radius: var(--radius);
            margin-bottom: 24px; line-height: 1.7; font-size: 0.95rem;
        }
        .compat-banner.green {
            background: #f0fdf4; border: 1px solid #bbf7d0; color: #166534;
        }
        .compat-banner.yellow {
            background: #fffbeb; border: 1px solid #fde68a; color: #92400e;
        }
        .compat-banner.red {
            background: #fef2f2; border: 1px solid #fecaca; color: #991b1b;
        }
        .compat-banner .compat-main { font-weight: 600; }
        .compat-banner .volt-warn { color: #c2410c; font-weight: 600; }

        /* Spec Card */
        .spec-card {
            background: var(--card-bg); border-radius: var(--radius);
            box-shadow: var(--shadow-sm); border: 1px solid var(--border);
            padding: 24px; margin-bottom: 20px;
        }
        .spec-card-title {
            font-size: 1.1rem; font-weight: 600; margin-bottom: 20px;
            display: flex; align-items: center; gap: 8px; color: var(--text);
        }
        .spec-tiles {
            display: grid; grid-template-columns: repeat(3, 1fr);
            gap: 14px; margin-bottom: 24px;
        }
        .spec-tile {
            background: #f8fafc; border-radius: 12px; padding: 20px 12px;
            text-align: center; border: 1px solid #f1f5f9;
        }
        .spec-tile .val {
            font-size: 1.5rem; font-weight: 700; color: var(--text);
            margin-bottom: 4px;
        }
        .spec-tile .lbl { font-size: 0.85rem; color: var(--text-light); }

        /* Plug Type Cards */
        .plug-cards {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 14px;
        }
        .plug-card {
            display: flex; align-items: center; gap: 16px;
            background: #f8fafc; border-radius: 12px;
            padding: 16px; border: 1px solid #f1f5f9;
            transition: box-shadow 0.2s, border-color 0.2s;
        }
        .plug-card:hover {
            border-color: #cbd5e1; box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }
        .plug-card .plug-icon-wrap {
            width: 64px; height: 64px; flex-shrink: 0;
            display: flex; align-items: center; justify-content: center;
        }
        .plug-card .plug-icon-wrap svg { width: 60px; height: 60px; }
        .plug-card .plug-info { }
        .plug-card .plug-type-name {
            font-size: 1.05rem; font-weight: 700; color: var(--text); margin-bottom: 2px;
        }
        .plug-card .plug-type-desc {
            font-size: 0.88rem; color: var(--text-light);
        }

        /* Origin mini card */
        .origin-spec-card {
            background: var(--card-bg); border-radius: var(--radius);
            box-shadow: var(--shadow-sm); border: 1px solid var(--border);
            padding: 20px 24px; margin-bottom: 20px;
        }
        .origin-spec-card .spec-card-title { margin-bottom: 14px; }
        .origin-spec-inline {
            display: flex; gap: 24px; flex-wrap: wrap; font-size: 0.93rem;
        }
        .origin-spec-inline .item {
            display: flex; align-items: center; gap: 6px;
        }
        .origin-spec-inline .item .lbl { color: var(--text-light); }
        .origin-spec-inline .item .val { font-weight: 600; }

        /* FOOTER */
        footer {
            background: #1e293b; color: rgba(255,255,255,0.7);
            padding: 36px 24px 20px; margin-top: auto;
        }
        .footer-grid {
            max-width: 960px; margin: 0 auto;
            display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 28px; margin-bottom: 28px;
        }
        .footer-col h4 {
            color: #fff; font-size: 0.95rem; margin-bottom: 12px;
            display: flex; align-items: center; gap: 6px;
        }
        .footer-col a {
            display: block; color: rgba(255,255,255,0.6); text-decoration: none;
            font-size: 0.88rem; padding: 4px 0; transition: color 0.2s;
        }
        .footer-col a:hover { color: #fff; }
        .footer-col a.active-link { color: var(--accent); font-weight: 500; }
        .footer-bottom {
            text-align: center; border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 16px; font-size: 0.82rem;
        }
        .footer-bottom a { color: rgba(255,255,255,0.5); text-decoration: none; }
        .footer-bottom a:hover { color: #fff; }

        /* Responsive */
        @media (max-width: 640px) {
            .page-title { font-size: 1.3rem; }
            .selector-row { flex-direction: column; gap: 14px; }
            .spec-tiles { grid-template-columns: repeat(3, 1fr); gap: 8px; }
            .spec-tile .val { font-size: 1.15rem; }
            .plug-cards { grid-template-columns: 1fr; }
            .origin-spec-inline { flex-direction: column; gap: 8px; }
            .header-right a.contact-link { display: none; }
        }
    </style>
</head>
<body>

<header>
    <div class="logo">Roam<span>wise</span></div>
    <div class="header-right">
        <a href="#" class="contact-link">è¯çµ¡æˆ‘å€‘</a>
        <select class="lang-select" id="langSelect">
            <option value="zh-Hant" selected="">ç¹é«”ä¸­æ–‡</option>
            <option value="en">English</option>
            <option value="es">EspaÃ±ol</option>
            <option value="pt">PortuguÃªs</option>
            <option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
        </select>
    </div>
</header>

<main>
    <h1 class="page-title">ğŸ”Œ æ’é ­æ¨™æº–æŸ¥è©¢</h1>

    <div class="info-box">
        <span class="icon">â„¹ï¸</span>
        <div>é¸æ“‡æˆ–è¼¸å…¥å‡ºç™¼åœ°å’Œç›®çš„åœ°åœ‹å®¶ï¼Œç«‹å³äº†è§£ç•¶åœ°çš„é›»æºè¦æ ¼ã€æ’é ­é¡å‹å’Œå¯èƒ½çš„ç›¸å®¹æ€§å•é¡Œã€‚</div>
    </div>

    <div class="query-card">
        <div class="selector-row">
            <div class="selector-group">
                <label>ğŸ  å‡ºç™¼åœ°</label>
                <div class="custom-select-wrapper">
                    <span class="input-icon-left">ğŸ”</span>
                    <input type="text" id="originInput" placeholder="è¼¸å…¥æˆ–é¸æ“‡åœ‹å®¶â€¦" autocomplete="off">
                    <span class="input-icon-right">â–¾</span>
                    <div class="dropdown-list" id="originDropdown"></div>
                </div>
            </div>
            <div class="selector-group">
                <label>âœˆï¸ ç›®çš„åœ°</label>
                <div class="custom-select-wrapper">
                    <span class="input-icon-left">ğŸ”</span>
                    <input type="text" id="destInput" placeholder="è¼¸å…¥æˆ–é¸æ“‡åœ‹å®¶â€¦" autocomplete="off">
                    <span class="input-icon-right">â–¾</span>
                    <div class="dropdown-list" id="destDropdown"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="results-area">
        <div id="noResult" class="no-result">
            <div class="big-icon">ğŸ”Œ</div>
            <p>è«‹é¸æ“‡å‡ºç™¼åœ°èˆ‡ç›®çš„åœ°</p>
            <p class="sub" style="font-size:0.85rem;color:#94a3b8;margin-top:4px;">é¸å¥½å¾Œå³æ™‚é¡¯ç¤ºçµæœ</p>
        </div>
        <div id="resultContainer"></div>
    </div>
</main>

<footer>
    <div class="footer-grid">
        <div class="footer-col">
            <h4>ğŸ”Œ é›»æºèˆ‡æ™‚é–“</h4>
            <a href="#" class="active-link">æ’é ­æ¨™æº–</a>
            <a href="#">æ™‚å·®æŸ¥è©¢</a>
            <a href="#">æ—¥å‡ºæ—¥è½æ™‚é–“</a>
        </div>
        <div class="footer-col">
            <h4>ğŸ‰ å‡æœŸèˆ‡æ´»å‹•</h4>
            <a href="#">å„åœ°å‡æœŸæŸ¥è©¢</a>
            <a href="#">ç¯€æ…¶æ´»å‹•</a>
        </div>
        <div class="footer-col">
            <h4>ğŸ’± é‡‘èèˆ‡å–®ä½</h4>
            <a href="#">åŒ¯ç‡å…Œæ›</a>
            <a href="#">å–®ä½è½‰æ›å™¨</a>
        </div>
        <div class="footer-col">
            <h4>ğŸŒ æ—…éŠè³‡è¨Š</h4>
            <a href="#">åœ‹å®¶åŸºæœ¬è³‡è¨Š</a>
            <a href="#">åœ°å€è©³ç´°æŒ‡å—</a>
        </div>
    </div>
    <div class="footer-bottom">
        Â© 2026 Roamwise. æ‰€æœ‰æ¬Šåˆ©ä¿ç•™ã€‚ | <a href="#">éš±ç§æ”¿ç­–</a> | <a href="#">ä½¿ç”¨æ¢æ¬¾</a>
    </div>
</footer>

<script>
// ========== DATA ==========
const countries = {
    "å°ç£":{ en:"Taiwan", plugs:["A","B"], voltage:"110V", freq:"60Hz" },
    "æ—¥æœ¬":{ en:"Japan", plugs:["A","B"], voltage:"100V", freq:"50/60Hz" },
    "ä¸­åœ‹":{ en:"China", plugs:["A","C","I"], voltage:"220V", freq:"50Hz" },
    "é¦™æ¸¯":{ en:"Hong Kong", plugs:["G"], voltage:"220V", freq:"50Hz" },
    "æ¾³é–€":{ en:"Macau", plugs:["G"], voltage:"220V", freq:"50Hz" },
    "å—éŸ“":{ en:"South Korea", plugs:["C","F"], voltage:"220V", freq:"60Hz" },
    "æ³°åœ‹":{ en:"Thailand", plugs:["A","B","C","O"], voltage:"220V", freq:"50Hz" },
    "è¶Šå—":{ en:"Vietnam", plugs:["A","B","C"], voltage:"220V", freq:"50Hz" },
    "æ–°åŠ å¡":{ en:"Singapore", plugs:["G"], voltage:"230V", freq:"50Hz" },
    "é¦¬ä¾†è¥¿äº":{ en:"Malaysia", plugs:["G"], voltage:"240V", freq:"50Hz" },
    "å°å°¼":{ en:"Indonesia", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "è²å¾‹è³“":{ en:"Philippines", plugs:["A","B","C"], voltage:"220V", freq:"60Hz" },
    "å°åº¦":{ en:"India", plugs:["C","D","M"], voltage:"230V", freq:"50Hz" },
    "æ–¯é‡Œè˜­å¡":{ en:"Sri Lanka", plugs:["D","G"], voltage:"230V", freq:"50Hz" },
    "å°¼æ³Šçˆ¾":{ en:"Nepal", plugs:["C","D","M"], voltage:"230V", freq:"50Hz" },
    "æŸ¬åŸ”å¯¨":{ en:"Cambodia", plugs:["A","C","G"], voltage:"230V", freq:"50Hz" },
    "ç·¬ç”¸":{ en:"Myanmar", plugs:["C","D","F","G"], voltage:"230V", freq:"50Hz" },
    "å¯®åœ‹":{ en:"Laos", plugs:["A","B","C","E","F"], voltage:"230V", freq:"50Hz" },
    "å­ŸåŠ æ‹‰":{ en:"Bangladesh", plugs:["A","C","D","G","K"], voltage:"220V", freq:"50Hz" },
    "å·´åŸºæ–¯å¦":{ en:"Pakistan", plugs:["C","D"], voltage:"230V", freq:"50Hz" },
    "ç¾åœ‹":{ en:"USA", plugs:["A","B"], voltage:"120V", freq:"60Hz" },
    "åŠ æ‹¿å¤§":{ en:"Canada", plugs:["A","B"], voltage:"120V", freq:"60Hz" },
    "å¢¨è¥¿å“¥":{ en:"Mexico", plugs:["A","B"], voltage:"127V", freq:"60Hz" },
    "å·´è¥¿":{ en:"Brazil", plugs:["C","N"], voltage:"127/220V", freq:"60Hz" },
    "é˜¿æ ¹å»·":{ en:"Argentina", plugs:["C","I"], voltage:"220V", freq:"50Hz" },
    "æ™ºåˆ©":{ en:"Chile", plugs:["C","L"], voltage:"220V", freq:"50Hz" },
    "å“¥å€«æ¯”äº":{ en:"Colombia", plugs:["A","B"], voltage:"110V", freq:"60Hz" },
    "ç§˜é­¯":{ en:"Peru", plugs:["A","B","C"], voltage:"220V", freq:"60Hz" },
    "å¤å·´":{ en:"Cuba", plugs:["A","B","C","L"], voltage:"110/220V", freq:"60Hz" },
    "è‹±åœ‹":{ en:"UK", plugs:["G"], voltage:"230V", freq:"50Hz" },
    "æ³•åœ‹":{ en:"France", plugs:["C","E"], voltage:"230V", freq:"50Hz" },
    "å¾·åœ‹":{ en:"Germany", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "ç¾©å¤§åˆ©":{ en:"Italy", plugs:["C","F","L"], voltage:"230V", freq:"50Hz" },
    "è¥¿ç­ç‰™":{ en:"Spain", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "è‘¡è„ç‰™":{ en:"Portugal", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "è·è˜­":{ en:"Netherlands", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "æ¯”åˆ©æ™‚":{ en:"Belgium", plugs:["C","E"], voltage:"230V", freq:"50Hz" },
    "ç‘å£«":{ en:"Switzerland", plugs:["C","J"], voltage:"230V", freq:"50Hz" },
    "å¥§åœ°åˆ©":{ en:"Austria", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "ç‘å…¸":{ en:"Sweden", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "æŒªå¨":{ en:"Norway", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "ä¸¹éº¥":{ en:"Denmark", plugs:["C","E","F","K"], voltage:"230V", freq:"50Hz" },
    "èŠ¬è˜­":{ en:"Finland", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "å†°å³¶":{ en:"Iceland", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "æ„›çˆ¾è˜­":{ en:"Ireland", plugs:["G"], voltage:"230V", freq:"50Hz" },
    "å¸Œè‡˜":{ en:"Greece", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "åœŸè€³å…¶":{ en:"Turkey", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "æ³¢è˜­":{ en:"Poland", plugs:["C","E"], voltage:"230V", freq:"50Hz" },
    "æ·å…‹":{ en:"Czech Republic", plugs:["C","E"], voltage:"230V", freq:"50Hz" },
    "åŒˆç‰™åˆ©":{ en:"Hungary", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "å…‹ç¾…åŸƒè¥¿äº":{ en:"Croatia", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "ä¿„ç¾…æ–¯":{ en:"Russia", plugs:["C","F"], voltage:"220V", freq:"50Hz" },
    "çƒå…‹è˜­":{ en:"Ukraine", plugs:["C","F"], voltage:"230V", freq:"50Hz" },
    "æ¾³æ´²":{ en:"Australia", plugs:["I"], voltage:"230V", freq:"50Hz" },
    "ç´è¥¿è˜­":{ en:"New Zealand", plugs:["I"], voltage:"230V", freq:"50Hz" },
    "æ–æ¿Ÿ":{ en:"Fiji", plugs:["I"], voltage:"240V", freq:"50Hz" },
    "åŸƒåŠ":{ en:"Egypt", plugs:["C","F"], voltage:"220V", freq:"50Hz" },
    "å—é":{ en:"South Africa", plugs:["C","D","M","N"], voltage:"230V", freq:"50Hz" },
    "è‚¯äº":{ en:"Kenya", plugs:["G"], voltage:"240V", freq:"50Hz" },
    "æ‘©æ´›å“¥":{ en:"Morocco", plugs:["C","E"], voltage:"220V", freq:"50Hz" },
    "å¥ˆåŠåˆ©äº":{ en:"Nigeria", plugs:["D","G"], voltage:"240V", freq:"50Hz" },
    "å¦å°šå°¼äº":{ en:"Tanzania", plugs:["D","G"], voltage:"230V", freq:"50Hz" },
    "è¿¦ç´":{ en:"Ghana", plugs:["D","G"], voltage:"230V", freq:"50Hz" },
    "ä»¥è‰²åˆ—":{ en:"Israel", plugs:["C","H"], voltage:"230V", freq:"50Hz" },
    "ç´„æ—¦":{ en:"Jordan", plugs:["B","C","D","F","G","J"], voltage:"230V", freq:"50Hz" },
    "é˜¿è¯é…‹":{ en:"UAE", plugs:["C","D","G"], voltage:"220V", freq:"50Hz" },
    "æœæ‹œ":{ en:"Dubai", plugs:["C","D","G"], voltage:"220V", freq:"50Hz" },
    "æ²™çƒåœ°é˜¿æ‹‰ä¼¯":{ en:"Saudi Arabia", plugs:["A","B","G"], voltage:"220V", freq:"60Hz" },
    "å¡é”":{ en:"Qatar", plugs:["D","G"], voltage:"240V", freq:"50Hz" },
    "é¦¬çˆ¾åœ°å¤«":{ en:"Maldives", plugs:["A","C","D","G","J","K","L"], voltage:"230V", freq:"50Hz" }
};

// Plug type info
const plugInfo = {
    A: { name:"Type A", desc:"ç¾å¼é›™æ‰è…³" },
    B: { name:"Type B", desc:"ç¾å¼ä¸‰è…³ï¼ˆå«æ¥åœ°ï¼‰" },
    C: { name:"Type C", desc:"æ­å¼é›™åœ“è…³" },
    D: { name:"Type D", desc:"å°åº¦ä¸‰åœ“è…³ï¼ˆå¤§ï¼‰" },
    E: { name:"Type E", desc:"æ³•å¼é›™åœ“ï¼‹æ¥åœ°å­”" },
    F: { name:"Type F", desc:"å¾·å¼é›™åœ“ï¼‹æ¥åœ°å¤¾" },
    G: { name:"Type G", desc:"è‹±å¼ä¸‰æ–¹è…³" },
    H: { name:"Type H", desc:"ä»¥è‰²åˆ—ä¸‰è…³" },
    I: { name:"Type I", desc:"æ¾³å¼æ–œæ‰è…³" },
    J: { name:"Type J", desc:"ç‘å£«ä¸‰åœ“è…³" },
    K: { name:"Type K", desc:"ä¸¹éº¥ä¸‰åœ“è…³" },
    L: { name:"Type L", desc:"ç¾©å¼ä¸‰åœ“ç›´æ’" },
    M: { name:"Type M", desc:"å—éä¸‰å¤§åœ“è…³" },
    N: { name:"Type N", desc:"å·´è¥¿ä¸‰åœ“è…³" },
    O: { name:"Type O", desc:"æ³°å¼ä¸‰åœ“è…³" }
};

// SVG plug illustrations (socket face view)
const plugSVG = {
    A: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><rect x="28" y="24" width="7" height="22" rx="2" fill="#7b8fa3"/><rect x="45" y="24" width="7" height="22" rx="2" fill="#7b8fa3"/></svg>`,
    B: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><rect x="28" y="18" width="7" height="20" rx="2" fill="#7b8fa3"/><rect x="45" y="18" width="7" height="20" rx="2" fill="#7b8fa3"/><circle cx="40" cy="54" r="5.5" fill="#7b8fa3"/></svg>`,
    C: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><circle cx="29" cy="40" r="6" fill="#7b8fa3"/><circle cx="51" cy="40" r="6" fill="#7b8fa3"/></svg>`,
    D: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><circle cx="40" cy="24" r="7" fill="#7b8fa3"/><circle cx="26" cy="50" r="7" fill="#7b8fa3"/><circle cx="54" cy="50" r="7" fill="#7b8fa3"/></svg>`,
    E: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><circle cx="29" cy="46" r="6" fill="#7b8fa3"/><circle cx="51" cy="46" r="6" fill="#7b8fa3"/><circle cx="40" cy="24" r="4.5" fill="none" stroke="#7b8fa3" stroke-width="3"/></svg>`,
    F: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><circle cx="29" cy="40" r="6" fill="#7b8fa3"/><circle cx="51" cy="40" r="6" fill="#7b8fa3"/><rect x="11" y="28" width="5" height="24" rx="2.5" fill="#a3b1c1"/><rect x="64" y="28" width="5" height="24" rx="2.5" fill="#a3b1c1"/></svg>`,
    G: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><rect x="32" y="16" width="16" height="7" rx="2" fill="#7b8fa3"/><rect x="24" y="42" width="7" height="18" rx="2" fill="#7b8fa3"/><rect x="49" y="42" width="7" height="18" rx="2" fill="#7b8fa3"/></svg>`,
    H: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><rect x="20" y="20" width="7" height="20" rx="2" fill="#7b8fa3" transform="rotate(15,23.5,30)"/><rect x="53" y="20" width="7" height="20" rx="2" fill="#7b8fa3" transform="rotate(-15,56.5,30)"/><circle cx="40" cy="55" r="5.5" fill="#7b8fa3"/></svg>`,
    I: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><rect x="22" y="18" width="7" height="22" rx="2" fill="#7b8fa3" transform="rotate(30,25.5,29)"/><rect x="51" y="18" width="7" height="22" rx="2" fill="#7b8fa3" transform="rotate(-30,54.5,29)"/><rect x="36.5" y="44" width="7" height="18" rx="2" fill="#7b8fa3"/></svg>`,
    J: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><circle cx="29" cy="32" r="6" fill="#7b8fa3"/><circle cx="51" cy="32" r="6" fill="#7b8fa3"/><circle cx="40" cy="54" r="5" fill="#7b8fa3"/></svg>`,
    K: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><circle cx="29" cy="30" r="6" fill="#7b8fa3"/><circle cx="51" cy="30" r="6" fill="#7b8fa3"/><circle cx="40" cy="54" r="6" fill="#7b8fa3"/></svg>`,
    L: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><circle cx="20" cy="40" r="5.5" fill="#7b8fa3"/><circle cx="40" cy="40" r="4.5" fill="#7b8fa3"/><circle cx="60" cy="40" r="5.5" fill="#7b8fa3"/></svg>`,
    M: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><circle cx="40" cy="22" r="8" fill="#7b8fa3"/><circle cx="25" cy="50" r="8" fill="#7b8fa3"/><circle cx="55" cy="50" r="8" fill="#7b8fa3"/></svg>`,
    N: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><circle cx="29" cy="30" r="5.5" fill="#7b8fa3"/><circle cx="51" cy="30" r="5.5" fill="#7b8fa3"/><circle cx="40" cy="54" r="5.5" fill="#7b8fa3"/></svg>`,
    O: `<svg viewBox="0 0 80 80"><rect x="4" y="4" width="72" height="72" rx="16" fill="#eef2f7" stroke="#d0d7e2" stroke-width="2"/><circle cx="29" cy="28" r="5.5" fill="#7b8fa3"/><circle cx="51" cy="28" r="5.5" fill="#7b8fa3"/><circle cx="40" cy="54" r="6.5" fill="#7b8fa3"/></svg>`
};

const countryNames = Object.keys(countries);

// ========== DROPDOWN ==========
function setupDropdown(inputId, dropdownId) {
    const input = document.getElementById(inputId);
    const dropdown = document.getElementById(dropdownId);

    function render(filter = '') {
        const f = filter.trim().toLowerCase();
        const matches = f
            ? countryNames.filter(n => n.includes(f) || countries[n].en.toLowerCase().includes(f))
            : countryNames;
        dropdown.innerHTML = '';
        matches.forEach(name => {
            const div = document.createElement('div');
            div.className = 'dropdown-item';
            div.innerHTML = `${name} <span class="en-name">${countries[name].en}</span>`;
            div.addEventListener('mousedown', e => {
                e.preventDefault();
                input.value = `${name} ${countries[name].en}`;
                input.dataset.country = name;
                dropdown.classList.remove('show');
                tryAutoSearch();
            });
            dropdown.appendChild(div);
        });
        if (matches.length === 0) {
            dropdown.innerHTML = '<div class="dropdown-item" style="color:#94a3b8;cursor:default">æ‰¾ä¸åˆ°ç¬¦åˆçš„åœ‹å®¶</div>';
        }
    }

    input.addEventListener('focus', () => { render(input.value.split(' ')[0]); dropdown.classList.add('show'); });
    input.addEventListener('input', () => {
        input.dataset.country = '';
        const raw = input.value.trim();
        // Check direct match
        for (const n of countryNames) {
            if (raw === n || raw.toLowerCase() === countries[n].en.toLowerCase() || raw === `${n} ${countries[n].en}`) {
                input.dataset.country = n;
                break;
            }
        }
        render(raw.split(' ')[0] || raw);
        dropdown.classList.add('show');
        tryAutoSearch();
    });
    input.addEventListener('blur', () => { setTimeout(() => dropdown.classList.remove('show'), 160); });
}

setupDropdown('originInput', 'originDropdown');
setupDropdown('destInput', 'destDropdown');

// ========== AUTO SEARCH ==========
function getSelectedCountry(inputId) {
    const input = document.getElementById(inputId);
    if (input.dataset.country && countries[input.dataset.country]) return input.dataset.country;
    const raw = input.value.trim();
    for (const n of countryNames) {
        if (raw === n || raw === `${n} ${countries[n].en}` || raw.toLowerCase() === countries[n].en.toLowerCase()) return n;
    }
    return null;
}

function tryAutoSearch() {
    const origin = getSelectedCountry('originInput');
    const dest = getSelectedCountry('destInput');
    const noResult = document.getElementById('noResult');
    const container = document.getElementById('resultContainer');

    if (!origin || !dest) {
        container.classList.remove('show');
        container.innerHTML = '';
        noResult.style.display = 'block';
        return;
    }

    noResult.style.display = 'none';
    showResults(origin, dest);
}

function parseV(s) { const m = s.match(/(\d+)/); return m ? parseInt(m[1]) : 0; }

function showResults(originName, destName) {
    const o = countries[originName];
    const d = countries[destName];
    const container = document.getElementById('resultContainer');
    const common = o.plugs.filter(p => d.plugs.includes(p));
    const allMatch = o.plugs.every(p => d.plugs.includes(p));
    const oV = parseV(o.voltage);
    const dV = parseV(d.voltage);
    const voltageDiff = Math.abs(oV - dV) > 5;

    // Compatibility banner
    let bannerClass, bannerHTML;
    if (common.length > 0 && allMatch) {
        bannerClass = 'green';
        bannerHTML = `<span class="compat-main">âœ… æ’é ­ç›¸å®¹ï¼</span> å…±ç”¨é¡å‹ï¼š${common.join(', ')}ã€‚`;
        if (voltageDiff) {
            bannerHTML += ` &nbsp;<span class="volt-warn">âš ï¸ ä½†é›»å£“ä¸åŒï¼ˆ${o.voltage}â†’${d.voltage}ï¼‰ï¼Œè«‹ç¢ºèªé›»å™¨æ˜¯å¦æ”¯æ´é›™é›»å£“ã€‚</span>`;
        }
    } else if (common.length > 0) {
        bannerClass = 'yellow';
        bannerHTML = `<span class="compat-main">âš ï¸ éƒ¨åˆ†ç›¸å®¹ï¼</span> å…±ç”¨é¡å‹ï¼š${common.join(', ')}ã€‚å…¶é¤˜æ’é ­éœ€è¦è½‰æ¥é ­ã€‚`;
        if (voltageDiff) {
            bannerHTML += ` <span class="volt-warn">ä¸”é›»å£“ä¸åŒï¼ˆ${o.voltage}â†’${d.voltage}ï¼‰ï¼Œè«‹ç¢ºèªé›»å™¨æ˜¯å¦æ”¯æ´é›™é›»å£“ã€‚</span>`;
        }
    } else {
        bannerClass = 'red';
        bannerHTML = `<span class="compat-main">âŒ æ’é ­ä¸ç›¸å®¹ï¼</span> éœ€è¦æ”œå¸¶è½‰æ¥é ­ã€‚`;
        if (voltageDiff) {
            bannerHTML += ` <span class="volt-warn">âš ï¸ é›»å£“ä¸åŒï¼ˆ${o.voltage}â†’${d.voltage}ï¼‰ï¼Œè«‹ç¢ºèªé›»å™¨æ˜¯å¦æ”¯æ´é›™é›»å£“ã€‚</span>`;
        }
    }

    // Plug cards HTML
    let plugCardsHTML = '';
    d.plugs.forEach(p => {
        const info = plugInfo[p] || { name:`Type ${p}`, desc:'' };
        const svg = plugSVG[p] || '';
        plugCardsHTML += `
            <div class="plug-card">
                <div class="plug-icon-wrap">${svg}</div>
                <div class="plug-info">
                    <div class="plug-type-name">${info.name}</div>
                    <div class="plug-type-desc">${info.desc}</div>
                </div>
            </div>`;
    });

    // Origin inline specs
    let originInlineHTML = `
        <div class="origin-spec-card">
            <div class="spec-card-title">ğŸ  ${originName} <span style="color:#94a3b8;font-weight:400;font-size:0.9rem">${o.en}</span> é›»åŠ›è¦æ ¼</div>
            <div class="origin-spec-inline">
                <div class="item"><span class="lbl">é›»å£“ï¼š</span><span class="val">${o.voltage}</span></div>
                <div class="item"><span class="lbl">é »ç‡ï¼š</span><span class="val">${o.freq}</span></div>
                <div class="item"><span class="lbl">æ’é ­ï¼š</span><span class="val">${o.plugs.join(', ')}</span></div>
            </div>
        </div>`;

    container.innerHTML = `
        <div class="compat-banner ${bannerClass}">${bannerHTML}</div>
        <div class="spec-card">
            <div class="spec-card-title">âš¡ ${destName} <span style="color:#94a3b8;font-weight:400;font-size:0.9rem">${d.en}</span> é›»åŠ›è¦æ ¼</div>
            <div class="spec-tiles">
                <div class="spec-tile"><div class="val">${d.voltage}</div><div class="lbl">é›»å£“</div></div>
                <div class="spec-tile"><div class="val">${d.freq}</div><div class="lbl">é »ç‡</div></div>
                <div class="spec-tile"><div class="val">${d.plugs.join(', ')}</div><div class="lbl">æ’é ­é¡å‹</div></div>
            </div>
            <div class="plug-cards">${plugCardsHTML}</div>
        </div>
        ${originInlineHTML}`;

    container.classList.remove('show');
    void container.offsetWidth; // trigger reflow for animation
    container.classList.add('show');
}
</script>



</body></html>